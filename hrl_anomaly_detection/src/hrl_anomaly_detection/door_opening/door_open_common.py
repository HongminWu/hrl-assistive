#!/usr/local/bin/python

import sys, os, copy
import numpy as np, math
import glob

import roslib; roslib.load_manifest('hrl_anomaly_detection')
import rospy
import hrl_lib.util as ut

## class_list = ['Freezer','Fridge','Kitchen Cabinet','Office Cabinet']
## class_dir_list = ['Freezer','Fridge','Kitchen_Cabinet','Office_Cabinet']

class_list = ['Freezer','Fridge','Office Cabinet']
class_dir_list = ['Freezer','Fridge','Office_Cabinet']


def get_hmm_init_param(mech_class='Office Cabinet', pkl_file=None):

    A=None        
    B=None
    pi=None    
    nState=None

    if pkl_file is not None and False:
        d = ut.load_pickle(pkl_file)
        nState = d['nState']
        B = d['B']
            
    elif mech_class=='Office Cabinet':
        print "load Office Cabinet"
        nState = 15
        B= np.array([[  6.71235742,  0.04662727],
                     [  8.7668483 ,  0.03119045],
                     [  9.76955369,  0.08984029],
                     [ 10.49986976,  0.08711044],
                     [ 11.75463876,  0.02185925],
                     [ 10.06517004,  0.04030971],
                     [ 9.1037728,    0.08482619],
                     [  8.56183269,  0.003021034],
                     [  7.21599725,  0.00965729],
                     [  8.15816594,  0.04966321],
                     [  6.30627078,  0.00126669],
                     [  6.21392069,  0.00702208],
                     [  5.11659398,  0.01791455],
                     [  4.80636284,  0.0018007 ],
                     [  3.01530655,  0.09763275]])

        ## nState = 30
        ## B= np.array([[  6.71235742,  0.04662727],
        ##              [  7.75431375,  0.04505169],
        ##              [  8.7668483 ,  0.03119045],
        ##              [  9.86809906,  0.05420356],
        ##              [  9.07088662,  0.03200717],
        ##              [  9.76955369,  0.08984029],
        ##              [ 10.49986976,  0.08711044],
        ##              [ 10.53161616,  0.02953428],
        ##              [ 11.04423325,  0.06765991],
        ##              [ 11.75463876,  0.02185925],
        ##              [ 11.82964668,  0.00530301],
        ##              [ 10.06517004,  0.04030971],
        ##              [ 9.16280969,   0.00206873],
        ##              [ 9.1037728,    0.08482619],
        ##              [  9.09391172,  0.008605636],
        ##              [  8.56183269,  0.003021034],
        ##              [  7.21599725,  0.00965729],
        ##              [  8.15816594,  0.04966321],
        ##              [  6.64986405,  0.03884128],
        ##              [  6.30627078,  0.00126669],
        ##              [  6.21392069,  0.00702208],
        ##              [  5.41977498,  0.01520167],
        ##              [  5.11659398,  0.01791455],
        ##              [  4.80636284,  0.0018007 ],
        ##              [  4.74952546,  0.00161881],
        ##              [  3.81097878,  0.01119555],
        ##              [  4.44117949,  0.0751887 ],
        ##              [  3.20511153,  0.07483155],
        ##              [  2.24186604,  0.0968655 ],
        ##              [  3.01530655,  0.09763275]])
        
        
    ## elif mech_class=='Kitchen Cabinet':
    ##     nState = 19
    ##     B= np.array([[18.58312854,   3.97148752],
    ##                  [8.02421244,   2.53093271],   
    ##                  [4.22877542,   2.43305639],   
    ##                  [3.06682069,   1.22338961],   
    ##                  [0.8969525,    0.90515595],
    ##                  [1.96895872,   0.40562971],   
    ##                  [0.7455034,    0.40224727],   
    ##                  [5.85727348,   0.14408786],   
    ##                  [1.38835362,   0.98968569],   
    ##                  [2.97388944,   0.56633029],
    ##                  [0.88473839,   1.07680861],   
    ##                  [0.72355969,   1.07902071],  
    ##                  [1.06439733,   1.55401679],   
    ##                  [0.31953582,   1.09563166],   
    ##                  [3.63555268,   0.42373409],
    ##                  [2.01966014,   0.71553896],   
    ##                  [0.78481239,   0.17447195],   
    ##                  [2.15617073,   0.78075969],   
    ##                  [2.97842764,   1.05199494]])

    elif mech_class=='Freezer':
        nState = 19
        B= np.array([[18.58312854,   3.97148752],   
                     [8.02421244,   2.53093271],   
                     [4.22877542,   2.43305639],   
                     [3.06682069,   1.22338961],   
                     [0.8969525,    0.90515595],
                     [1.96895872,   0.40562971],   
                     [0.7455034,    0.40224727],   
                     [5.85727348,   0.14408786],   
                     [1.38835362,   0.98968569],   
                     [2.97388944,   0.56633029],
                     [0.88473839,   1.07680861],   
                     [0.72355969,   1.07902071],   
                     [1.06439733,   1.55401679],  
                     [0.31953582,   1.09563166],   
                     [3.63555268,   0.42373409],
                     [2.01966014,   0.71553896],   
                     [0.78481239,   0.17447195],   
                     [2.15617073,   0.78075969],   
                     [2.97842764,   1.05199494]])

    elif mech_class=='Fridge':
        nState = 31
        B= np.array([[17.55486023,  3.65713984],
                     [18.22998446,  3.64747577],
                     [15.86584935,  3.98602125],
                     [10.07188122,  3.25049983], 
                     [8.0921412,   3.40126467],    
                     [4.96405642,  3.46917105], 
                     [3.61047634,  3.24121805], 
                     [1.74283831,   2.75573126], 
                     [2.55587326,  2.80451476], 
                     [0.25480083,  2.3808652],
                     [4.04989768,  1.18629104], 
                     [2.48367472,  1.90527102], 
                     [0.37727605,  1.40430661], 
                     [2.66604068,  0.61319149], 
                     [0.76780143,  1.74494431],
                     [2.17628331,  2.22347328], 
                     [1.76746579,  1.66254031], 
                     [1.68953164,  1.14549621], 
                     [1.648831,    1.36946679], 
                     [3.8295474,   1.23186153],
                     [3.85246291,  1.3042204],  
                     [0.38940239,  1.62819136], 
                     [1.87882352,  1.06820492], 
                     [0.89935806,  1.03536701], 
                     [2.7160048,   1.96402042],
                     [1.31125561,  1.03713852], 
                     [1.36717773,  1.46653763], 
                     [1.95822406,  1.99598714], 
                     [1.63074714,  2.22753852], 
                     [1.83764532,  1.32454358],
                     [3.07627057,  1.64749328]])                        

    else:
        print "No initial parameters"
            
    return A, B, pi, nState
    
