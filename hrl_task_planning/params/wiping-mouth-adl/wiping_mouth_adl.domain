(define (domain wiping_mouth_adl)
 (:requirements :typing :conditional-effects)
 (:types
  dof tag - physobj
 )

 (:constants bed - dof
             bed_tag - tag
             spine - dof
 )

 (:predicates
  (configured ?d - dof)
  (head-registered)
  (bed-occupied)
  (found-tag)
  (is-tracking-tag)
  (base-selected) 
  (base-reached)
  (arm-reached)
  (task-completed)
 )


 (:action find_tag
  :parameters (?t - tag)
  :precondition (and (not(found-tag)))
  :effect (and (found-tag)
          )
 )

 (:action check_bed_occupancy
  :parameters ()
  :precondition (and (not(bed-occupied)))
  :effect (and (bed-occupied)
          )
 )

 (:action register_head
  :parameters ()
  :precondition (and (not(head-registered)))
  :effect (and (head-registered)
          )
 )

 (:action track_tag
  :parameters ()
  :precondition (and (found-tag)(not(is-tracking-tag)))
  :effect (and (is-tracking-tag)
          )
 )   
 
 (:action call_base_selection
  :parameters ()
  :precondition (and (head-registered)(bed-occupied)(is-tracking-tag)(not(base-selected)))
  :effect (and (base-selected)
          )
 )

 (:action configure_bed_robot
  :parameters ()
  :precondition (and (is-tracking-tag)(base-selected))
  :effect (and (forall(?d - dof)(configured ?d))
          )
 )

 (:action move_robot
  :parameters ()
  :precondition (and (forall(?d - dof)(configured ?d))
                     (is-tracking-tag)(not(base-reached)))
  :effect (and (base-reached)
          )
 )

 (:action move_arm
  :parameters ()
  :precondition (and (base-selected)(not(arm-reached)))
  :effect (and (arm-reached)
          )
 )

 (:action do_task
  :parameters ()
  :precondition (and(base-reached)(arm-reached)(not(task-completed)))
  :effect (and (task-completed)
          )
 )

)
